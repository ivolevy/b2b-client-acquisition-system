# üìò Gu√≠a Completa de Usuarios - Smart Leads B2B

## üéØ ¬øQu√© es Smart Leads B2B?

Smart Leads B2B es un sistema de captaci√≥n de clientes empresariales que permite:
- Buscar empresas por rubro y ubicaci√≥n geogr√°fica
- Obtener datos de contacto (emails, tel√©fonos, redes sociales)
- Enviar emails masivos a empresas objetivo
- Exportar datos para an√°lisis posterior
- Gestionar usuarios y suscripciones (para administradores)

---

## üìã Tipos de Usuario

El sistema tiene **3 tipos de usuarios** con diferentes niveles de acceso:

### 1. **Usuario FREE (Gratuito)**
**¬øQui√©n es?** Usuario que se registra sin pagar, para probar el sistema.

**Caracter√≠sticas:**
- ‚úÖ **Registro**: Completamente gratuito, sin necesidad de tarjeta de cr√©dito
- ‚úÖ **B√∫squeda b√°sica**: Puede buscar empresas por rubro y ubicaci√≥n
- ‚úÖ **Visualizaci√≥n limitada**: Ve datos b√°sicos (nombre, direcci√≥n, rubro)
- ‚ùå **Sin datos de contacto**: No puede ver emails ni tel√©fonos completos
- ‚ùå **Sin env√≠o de emails**: No puede enviar emails a las empresas
- ‚ö†Ô∏è **L√≠mites**: B√∫squedas y exportaciones limitadas por mes

**Ideal para:** Usuarios que quieren probar el sistema antes de pagar.

---

### 2. **Usuario PRO (Premium)**
**¬øQui√©n es?** Usuario que paga una suscripci√≥n mensual para acceso completo.

**Caracter√≠sticas:**
- ‚úÖ **Registro**: Requiere suscripci√≥n de pago (mensual/anual)
- ‚úÖ **B√∫squedas ilimitadas**: Sin l√≠mites en cantidad de b√∫squedas
- ‚úÖ **Datos completos**: Acceso a emails, tel√©fonos y redes sociales
- ‚úÖ **Env√≠o de emails**: Puede enviar emails individuales o masivos
- ‚úÖ **Templates personalizados**: Crea y guarda plantillas de email
- ‚úÖ **Exportaci√≥n ilimitada**: Descarga todos los datos en CSV sin l√≠mites
- ‚úÖ **Historial completo**: Ve todas sus b√∫squedas y env√≠os anteriores

**Ideal para:** Profesionales que necesitan contactar empresas regularmente.

---

### 3. **Usuario ADMIN (Administrador)**
**¬øQui√©n es?** Usuario con permisos especiales para gestionar el sistema.

**Caracter√≠sticas:**
- ‚úÖ **Acceso especial**: Solo se asigna manualmente (no disponible para registro p√∫blico)
- ‚úÖ **Panel de administraci√≥n**: Acceso a dashboard de gesti√≥n
- ‚úÖ **Gesti√≥n de usuarios**: Ver, editar y cambiar planes de todos los usuarios
- ‚úÖ **C√≥digos promocionales**: Crear y gestionar descuentos
- ‚úÖ **Estad√≠sticas del sistema**: Ver m√©tricas globales (usuarios, b√∫squedas, etc.)
- ‚úÖ **Todas las funciones PRO**: Acceso completo a todas las funciones premium

**Ideal para:** Administradores del sistema que necesitan gestionar usuarios y configuraciones.

---

## üîÑ Flujos Completos Paso a Paso

### **1. Registro de Usuario (Primera Vez)**

#### üìù Paso 1: Acceder al Registro
1. El usuario visita la p√°gina principal de Smart Leads
2. Si no tiene cuenta, hace clic en **"Registrarse"** o **"Crear cuenta"**
3. Se abre el formulario de registro

#### ‚úçÔ∏è Paso 2: Completar el Formulario
El usuario debe completar los siguientes campos:

- **Nombre completo** (obligatorio)
  - Ejemplo: "Juan P√©rez"
  
- **Email** (obligatorio)
  - Debe ser un email v√°lido
  - Ejemplo: "juan.perez@email.com"
  - Este ser√° el email con el que iniciar√° sesi√≥n
  
- **Tel√©fono** (opcional)
  - Puede dejarse vac√≠o
  - Formato: cualquier formato v√°lido
  
- **Contrase√±a** (obligatorio)
  - **M√≠nimo 8 caracteres**
  - **M√°ximo 16 caracteres**
  - Debe incluir letras y n√∫meros
  - Ejemplo v√°lido: "miPassword123"
  - Ejemplo inv√°lido: "123" (muy corta)

#### ‚úÖ Paso 3: Confirmar Registro
1. El usuario acepta t√©rminos y condiciones (si aplica)
2. Hace clic en el bot√≥n **"Registrarse"** o **"Crear cuenta"**
3. El sistema valida los datos ingresados
4. Si todo est√° correcto, muestra un mensaje de √©xito

#### üìß Paso 4: Confirmaci√≥n por Email
1. **El sistema env√≠a autom√°ticamente un email** a la direcci√≥n proporcionada
2. **El email contiene:**
   - Un enlace de verificaci√≥n
   - Instrucciones para confirmar la cuenta
   - Informaci√≥n sobre qu√© hacer si no solicit√≥ el registro
3. **El usuario debe:**
   - Abrir su bandeja de entrada
   - Buscar el email de "Smart Leads" o "Supabase"
   - Hacer clic en el enlace de verificaci√≥n
4. **Una vez hace clic:**
   - Su cuenta queda confirmada
   - Es redirigido a la p√°gina de login
   - Puede iniciar sesi√≥n normalmente

#### üîê Paso 5: Primer Inicio de Sesi√≥n
1. El usuario ingresa a la p√°gina de login
2. Ingresa su **email** y **contrase√±a**
3. Hace clic en **"Iniciar sesi√≥n"**
4. **Si la cuenta NO est√° confirmada:**
   - Aparece un mensaje: "Por favor confirma tu email antes de iniciar sesi√≥n"
   - Debe revisar su correo y hacer clic en el enlace de confirmaci√≥n
5. **Si la cuenta S√ç est√° confirmada:**
   - Inicia sesi√≥n exitosamente
   - Es redirigido al dashboard principal
   - Ve la interfaz de b√∫squeda de empresas

---

### **2. Recuperaci√≥n de Contrase√±a (Olvid√© mi contrase√±a)**

Este flujo es para usuarios que **olvidaron su contrase√±a** y no pueden iniciar sesi√≥n.

#### üîì Paso 1: Acceder a Recuperaci√≥n
1. El usuario est√° en la pantalla de login
2. **NO recuerda su contrase√±a**
3. Hace clic en el enlace **"¬øOlvidaste tu contrase√±a?"** (ubicado debajo del campo de contrase√±a)
4. Se abre un modal de recuperaci√≥n

#### üìß Paso 2: Solicitar C√≥digo de Verificaci√≥n
1. **El usuario ingresa su email** (el mismo con el que se registr√≥)
2. Hace clic en el bot√≥n **"Enviar c√≥digo"**
3. **El sistema:**
   - Valida que el email existe en el sistema
   - Genera un c√≥digo de 6 d√≠gitos aleatorio
   - Env√≠a el c√≥digo por email al usuario
   - Guarda el c√≥digo con una expiraci√≥n de 10 minutos
4. **El usuario recibe un email** con:
   - El c√≥digo de 6 d√≠gitos
   - Instrucciones de uso
   - Advertencia de que expira en 10 minutos

#### üî¢ Paso 3: Verificar el C√≥digo
1. **El usuario vuelve a la aplicaci√≥n**
2. **Ingresa el c√≥digo de 6 d√≠gitos** recibido por email
   - El campo solo acepta n√∫meros
   - Se formatea autom√°ticamente
3. Hace clic en **"Verificar c√≥digo"**
4. **Si el c√≥digo es correcto:**
   - Aparece un mensaje de √©xito
   - Se habilita el paso siguiente (cambiar contrase√±a)
5. **Si el c√≥digo es incorrecto:**
   - Aparece un mensaje de error
   - Debe ingresar el c√≥digo correcto
6. **Si el c√≥digo expir√≥ (m√°s de 10 minutos):**
   - Aparece un mensaje: "El c√≥digo ha expirado"
   - Debe solicitar un nuevo c√≥digo
7. **Reenv√≠o de c√≥digo:**
   - Despu√©s de **1 minuto** de haber enviado el c√≥digo
   - Aparece un bot√≥n **"Reenviar c√≥digo"**
   - El usuario puede solicitar un nuevo c√≥digo si no recibi√≥ el anterior

#### üîë Paso 4: Cambiar la Contrase√±a
1. **Una vez verificado el c√≥digo correctamente:**
   - Se muestra un formulario para nueva contrase√±a
2. **El usuario ingresa:**
   - **Nueva contrase√±a** (m√≠nimo 8, m√°ximo 16 caracteres)
   - **Confirmar nueva contrase√±a** (debe coincidir exactamente)
3. **El sistema valida:**
   - Que la contrase√±a tenga entre 8 y 16 caracteres
   - Que ambas contrase√±as coincidan
   - Que cumpla con los requisitos de seguridad
4. **Si todo es correcto:**
   - La contrase√±a se actualiza en la base de datos
   - Aparece un mensaje de √©xito
   - El modal se cierra
5. **El usuario puede:**
   - Volver a la pantalla de login
   - Iniciar sesi√≥n con su nueva contrase√±a

---

### **3. Cambio de Contrase√±a (Usuario Ya Autenticado)**

Este flujo es para usuarios que **ya est√°n logueados** y quieren cambiar su contrase√±a por seguridad o preferencia.

#### üë§ Paso 1: Acceder a Mi Perfil
1. El usuario **ya est√° logueado** en el sistema
2. En la barra de navegaci√≥n superior, hace clic en su **nombre** o **avatar**
3. Se abre un men√∫ desplegable
4. Hace clic en **"Mi Perfil"** o **"Perfil"**
5. Es redirigido a la p√°gina de perfil

#### üîê Paso 2: Abrir Modal de Cambio de Contrase√±a
1. En la p√°gina de perfil, encuentra la secci√≥n **"Seguridad"** o **"Contrase√±a"**
2. Hace clic en el bot√≥n **"Cambiar contrase√±a"**
3. Se abre un modal con el proceso de cambio

#### üìß Paso 3: Solicitar C√≥digo de Verificaci√≥n
1. **El sistema muestra un formulario** pidiendo confirmar la acci√≥n
2. El usuario hace clic en **"Enviar c√≥digo"**
3. **El sistema:**
   - Env√≠a un c√≥digo de 6 d√≠gitos al **email del usuario** (el mismo con el que est√° logueado)
   - El c√≥digo expira en 10 minutos
   - Guarda el c√≥digo para verificaci√≥n
4. **El usuario recibe el email** con el c√≥digo

#### üî¢ Paso 4: Verificar el C√≥digo
1. **El usuario ingresa el c√≥digo de 6 d√≠gitos** recibido por email
2. Hace clic en **"Verificar c√≥digo"**
3. **Si es correcto:**
   - Aparece un mensaje de √©xito
   - Se habilita el formulario de nueva contrase√±a
4. **Si es incorrecto o expir√≥:**
   - Aparece un mensaje de error
   - Debe solicitar un nuevo c√≥digo
5. **Reenv√≠o disponible:**
   - Despu√©s de 1 minuto aparece el bot√≥n **"Reenviar c√≥digo"**

#### üîë Paso 5: Establecer Nueva Contrase√±a
1. **Una vez verificado el c√≥digo:**
   - Se muestra el formulario de nueva contrase√±a
2. **El usuario ingresa:**
   - **Nueva contrase√±a** (8-16 caracteres)
   - **Confirmar nueva contrase√±a** (debe coincidir)
3. **El sistema valida en tiempo real:**
   - Muestra si la contrase√±a tiene la longitud correcta
   - Indica si ambas contrase√±as coinciden
4. **Al hacer clic en "Guardar contrase√±a":**
   - La contrase√±a se actualiza en Supabase
   - Aparece un mensaje: "Tu contrase√±a ha sido actualizada correctamente"
   - El modal se cierra
5. **El usuario puede:**
   - Continuar usando el sistema normalmente
   - La pr√≥xima vez que cierre sesi√≥n, usar√° la nueva contrase√±a

---

## üéØ Funcionalidades Detalladas por Tipo de Usuario

### **Usuario FREE - Funciones Disponibles**

#### üîç B√∫squeda de Empresas (Paso a Paso):

**Paso 1: Seleccionar Rubro**
- El usuario ve una lista desplegable con rubros disponibles
- Ejemplos: "Restaurantes", "Farmacias", "Gimnasios", etc.
- Selecciona el rubro que le interesa

**Paso 2: Definir Ubicaci√≥n**
- **Opci√≥n A - Mapa interactivo:**
  - Ve un mapa de Google Maps
  - Puede hacer clic en el mapa para seleccionar un punto
  - O usar el bot√≥n "Usar mi ubicaci√≥n actual"
  
- **Opci√≥n B - Buscar por direcci√≥n:**
  - Escribe una direcci√≥n (ej: "Plaza de Mayo, Buenos Aires")
  - El sistema autocompleta con sugerencias
  - Selecciona la direcci√≥n correcta

**Paso 3: Configurar Radio de B√∫squeda**
- Selecciona cu√°ntos kil√≥metros alrededor de la ubicaci√≥n buscar
- Ejemplo: 5 km, 10 km, 20 km
- A mayor radio, m√°s empresas encontrar√°

**Paso 4: Ejecutar B√∫squeda**
- Hace clic en el bot√≥n **"Buscar empresas"**
- El sistema busca empresas del rubro seleccionado en el √°rea definida
- Muestra un indicador de carga mientras busca

**Paso 5: Ver Resultados**
- **Vista de Tabla:**
  - Lista todas las empresas encontradas
  - Columnas: Nombre, Direcci√≥n, Rubro, Ciudad
  - Puede ordenar por cualquier columna
  
- **Vista de Mapa:**
  - Muestra las empresas como marcadores en el mapa
  - Al hacer clic en un marcador, ve informaci√≥n b√°sica
  - Puede hacer zoom y navegar por el mapa

**‚ö†Ô∏è Limitaciones en los Resultados:**
- **Emails:** Ve "***@***" (oculto) en lugar del email completo
- **Tel√©fonos:** Ve "***-***-****" (oculto) en lugar del tel√©fono completo
- **Datos visibles:** Solo nombre, direcci√≥n, rubro, ciudad

#### üì• Exportaci√≥n de Datos:
- Puede exportar los resultados a un archivo CSV
- **Limitaci√≥n:** Solo puede exportar un n√∫mero limitado de empresas por mes
- **Datos exportados:** Solo los datos b√°sicos (sin emails ni tel√©fonos completos)

#### ‚ùå Funciones NO Disponibles para FREE:
- ‚ùå Ver emails completos de empresas
- ‚ùå Ver tel√©fonos completos de empresas
- ‚ùå Enviar emails a empresas
- ‚ùå Env√≠o masivo de emails
- ‚ùå Crear templates de email personalizados
- ‚ùå B√∫squedas ilimitadas (tiene un l√≠mite mensual)
- ‚ùå Exportaci√≥n ilimitada (tiene un l√≠mite mensual)

---

### **Usuario PRO - Funciones Completas**

#### üîç B√∫squeda Avanzada (Todas las Funciones de FREE + M√°s):

**Todas las funciones de FREE, m√°s:**
- ‚úÖ **B√∫squedas ilimitadas:** Sin l√≠mite de cantidad por mes
- ‚úÖ **Filtros adicionales:**
  - Filtrar por ciudad espec√≠fica
  - Filtrar por distancia exacta
  - Filtrar empresas con email
  - Filtrar empresas con tel√©fono

#### üìä Resultados Completos (Datos Sin Restricciones):

**Datos Visibles:**
- ‚úÖ **Email completo:** Ve el email real de la empresa (ej: "contacto@empresa.com")
- ‚úÖ **Tel√©fono completo:** Ve el tel√©fono real (ej: "+54 11 1234-5678")
- ‚úÖ **Redes sociales:** Ve links a Facebook, Instagram, LinkedIn (si est√°n disponibles)
- ‚úÖ **Website:** Ve la p√°gina web de la empresa
- ‚úÖ **Direcci√≥n completa:** Con coordenadas geogr√°ficas
- ‚úÖ **Todos los datos:** Sin ning√∫n dato oculto

#### üìß Env√≠o de Emails (Funcionalidad Principal de PRO):

**Modo Individual (Email a una empresa):**
1. El usuario selecciona una empresa de los resultados
2. Hace clic en el bot√≥n **"Enviar email"** o **"Contactar"**
3. Se abre un editor de email con:
   - Campo "Para:" pre-llenado con el email de la empresa
   - Campo "Asunto:" editable
   - Editor de texto enriquecido para el cuerpo del email
   - Variables disponibles: {nombre_empresa}, {direccion}, etc.
4. Escribe el mensaje personalizado
5. Hace clic en **"Enviar"**
6. El email se env√≠a y se guarda en el historial

**Modo Masivo (Emails a m√∫ltiples empresas):**
1. El usuario selecciona **m√∫ltiples empresas** de los resultados (checkboxes)
2. Hace clic en **"Enviar emails masivos"**
3. Se abre un modal con:
   - Lista de empresas seleccionadas
   - Selector de template (o crear uno nuevo)
   - Opci√≥n de personalizar cada email
   - Configuraci√≥n de delay entre env√≠os (para evitar spam)
4. Selecciona o crea un template
5. Personaliza si es necesario
6. Hace clic en **"Enviar todos"**
7. El sistema env√≠a los emails uno por uno con el delay configurado
8. Muestra progreso en tiempo real
9. Al finalizar, muestra un resumen de env√≠os exitosos y fallidos

**Templates Personalizables:**
- Puede crear plantillas de email reutilizables
- Guarda asunto y cuerpo del mensaje
- Usa variables din√°micas: {nombre_empresa}, {direccion}, {rubro}, etc.
- Puede editar, duplicar o eliminar templates
- Los templates se guardan para uso futuro

**Historial de Emails:**
- Ve todos los emails enviados
- Filtra por fecha, empresa, template usado
- Ve el estado de cada env√≠o (enviado, fallido, pendiente)
- Puede reenviar emails si es necesario

#### üì• Exportaci√≥n Completa:
- ‚úÖ **Sin l√≠mites:** Puede exportar todas las empresas que quiera
- ‚úÖ **Datos completos:** Incluye emails, tel√©fonos, redes sociales
- ‚úÖ **Formato CSV:** Compatible con Excel, Google Sheets, etc.
- ‚úÖ **M√∫ltiples exportaciones:** Sin restricci√≥n de cantidad

#### üìö Historial de B√∫squedas:
- Ve todas sus b√∫squedas anteriores
- Puede volver a ver resultados de b√∫squedas pasadas
- Filtra por fecha, rubro, ubicaci√≥n
- Reutiliza b√∫squedas anteriores

---

### **Usuario ADMIN - Panel de Administraci√≥n**

#### üîê Acceso al Panel de Administraci√≥n:

**Paso 1: Iniciar Sesi√≥n**
1. El admin inicia sesi√≥n normalmente como cualquier usuario
2. Usa su email y contrase√±a de administrador

**Paso 2: Acceder al Panel**
1. En la barra de navegaci√≥n superior, hace clic en su nombre/avatar
2. En el men√∫ desplegable, ve la opci√≥n **"Panel de Administraci√≥n"** o **"Admin"**
3. Hace clic y es redirigido al panel
4. **Nota:** Solo usuarios con rol "admin" ven esta opci√≥n

**Paso 3: Dashboard Principal**
- Ve un dashboard con estad√≠sticas generales del sistema
- Dise√±o similar al resto de la aplicaci√≥n pero con funciones administrativas

#### üë• Gesti√≥n de Usuarios (Funcionalidad Principal):

**Ver Lista de Usuarios:**
1. En el panel, hace clic en la pesta√±a **"Usuarios"**
2. Ve una tabla con todos los usuarios registrados
3. **Columnas visibles:**
   - Nombre completo
   - Email
   - Plan actual (FREE o PRO)
   - Fecha de registro
   - Estado (activo/inactivo)
   - Acciones (editar, ver detalles)

**Filtrar Usuarios:**
- Puede filtrar por:
  - Plan (solo FREE, solo PRO, todos)
  - Estado (activos, inactivos)
  - Buscar por nombre o email

**Ver Detalles de un Usuario:**
1. Hace clic en un usuario de la lista
2. Se abre una p√°gina de detalles con:
   - **Informaci√≥n personal:**
     - Nombre completo
     - Email
     - Tel√©fono
     - Fecha de registro
     - √öltimo acceso
   - **Informaci√≥n de suscripci√≥n:**
     - Plan actual (FREE/PRO)
     - Fecha de inicio de suscripci√≥n PRO (si aplica)
     - Estado de la suscripci√≥n
   - **Estad√≠sticas del usuario:**
     - Cantidad de b√∫squedas realizadas
     - Emails enviados
     - √öltima actividad

**Editar Usuario:**
1. En la p√°gina de detalles, hace clic en **"Editar"**
2. Puede modificar:
   - **Cambiar plan:**
     - Convertir usuario FREE a PRO (sin pago)
     - Convertir usuario PRO a FREE (cancelar suscripci√≥n)
     - Los cambios se reflejan inmediatamente
   - **Modificar datos personales:**
     - Cambiar nombre
     - Cambiar tel√©fono
     - **Nota:** El email no se puede cambiar (es el identificador)
   - **Activar/Desactivar cuenta:**
     - Desactivar: El usuario no puede iniciar sesi√≥n
     - Activar: Restaura el acceso del usuario
3. Guarda los cambios

#### üéüÔ∏è Gesti√≥n de C√≥digos Promocionales:

**Ver C√≥digos Existentes:**
1. Hace clic en la pesta√±a **"C√≥digos Promocionales"**
2. Ve una lista de todos los c√≥digos creados
3. **Informaci√≥n mostrada:**
   - C√≥digo (ej: "DESCUENTO50")
   - Tipo de descuento (porcentaje, monto fijo)
   - Valor del descuento
   - Estado (activo/inactivo)
   - Fecha de creaci√≥n
   - Fecha de expiraci√≥n
   - Usos disponibles
   - Usos realizados

**Crear Nuevo C√≥digo:**
1. Hace clic en el bot√≥n **"Crear c√≥digo"**
2. Completa el formulario:
   - **C√≥digo:** Texto √∫nico (ej: "BIENVENIDA2024")
   - **Tipo:** Porcentaje o monto fijo
   - **Valor:** Cantidad del descuento
   - **Fecha de expiraci√≥n:** Hasta cu√°ndo es v√°lido
   - **Usos m√°ximos:** Cu√°ntas veces se puede usar (opcional)
3. Guarda el c√≥digo
4. El c√≥digo queda disponible para que los usuarios lo usen

**Editar o Eliminar C√≥digos:**
- Puede editar c√≥digos existentes (cambiar valores, fechas, etc.)
- Puede desactivar c√≥digos sin eliminarlos
- Puede eliminar c√≥digos permanentemente

#### üìä Estad√≠sticas del Sistema:

El dashboard muestra m√©tricas en tiempo real:

- **Usuarios:**
  - Total de usuarios registrados
  - Usuarios FREE vs PRO
  - Usuarios activos (√∫ltimos 30 d√≠as)
  - Nuevos usuarios este mes

- **Actividad:**
  - Total de b√∫squedas realizadas
  - Emails enviados (individuales y masivos)
  - Empresas en la base de datos

- **Suscripciones:**
  - Usuarios PRO activos
  - Conversiones FREE a PRO
  - Cancelaciones de suscripciones

#### üé® Navegaci√≥n del Panel:
- **Tabs integrados:** "Usuarios" y "C√≥digos Promocionales" en la parte superior
- **Bot√≥n "Volver":** En el header, para volver al sistema principal
- **Dise√±o consistente:** Mismo estilo visual que el resto de la aplicaci√≥n

---

## üí≥ Cambio de Plan: FREE a PRO (Upgrade)

### üìà Proceso de Actualizaci√≥n a PRO:

#### Paso 1: Acceder a la Opci√≥n de Upgrade
1. El usuario FREE est√° logueado en el sistema
2. Va a **"Mi Perfil"** desde el men√∫ de usuario
3. En la secci√≥n de **"Plan"** o **"Suscripci√≥n"**, ve:
   - Su plan actual: **"Plan FREE"**
   - Un bot√≥n **"Actualizar a PRO"** o **"Upgrade a PRO"**
4. Hace clic en el bot√≥n

#### Paso 2: Ver Informaci√≥n del Plan PRO
1. Se abre un modal o p√°gina con informaci√≥n del plan PRO
2. **Informaci√≥n mostrada:**
   - Precio mensual/anual
   - Lista de beneficios (todas las funciones PRO)
   - Comparaci√≥n FREE vs PRO
   - T√©rminos y condiciones
3. El usuario revisa la informaci√≥n

#### Paso 3: Proceso de Pago
1. Si est√° de acuerdo, hace clic en **"Continuar"** o **"Suscribirse"**
2. **Se integra con sistema de pagos** (Stripe, PayPal, etc.)
3. El usuario ingresa:
   - Datos de tarjeta de cr√©dito
   - Informaci√≥n de facturaci√≥n
   - Acepta t√©rminos de suscripci√≥n
4. Confirma el pago
5. El sistema procesa el pago

#### Paso 4: Activaci√≥n del Plan PRO
1. **Una vez procesado el pago exitosamente:**
   - El sistema actualiza autom√°ticamente el plan de FREE a PRO
   - Se actualiza en la base de datos de Supabase
   - El usuario recibe acceso inmediato
2. **El usuario ve:**
   - Mensaje de confirmaci√≥n: "¬°Bienvenido al Plan PRO!"
   - Su plan cambia a "Plan PRO" en su perfil
   - Todas las funciones PRO se desbloquean inmediatamente
3. **Se env√≠a email de confirmaci√≥n** con:
   - Detalles de la suscripci√≥n
   - Fecha de renovaci√≥n
   - Informaci√≥n de facturaci√≥n

#### Paso 5: Disfrutar Funciones PRO
- Puede ver emails y tel√©fonos completos
- Puede enviar emails masivos
- B√∫squedas ilimitadas
- Exportaci√≥n ilimitada
- Todas las funciones premium

---

## ‚ùå Cancelaci√≥n de Plan PRO (Downgrade a FREE)

### üìâ Proceso de Cancelaci√≥n:

#### Paso 1: Acceder a Cancelaci√≥n
1. El usuario PRO est√° logueado
2. Va a **"Mi Perfil"**
3. En la secci√≥n de **"Plan"**, ve:
   - Su plan actual: **"Plan PRO"**
   - Un bot√≥n **"Cancelar plan"** o **"Cancelar suscripci√≥n"**
4. Hace clic en el bot√≥n

#### Paso 2: Confirmar Cancelaci√≥n
1. Se abre un modal de confirmaci√≥n
2. **El sistema muestra:**
   - Advertencia sobre perder acceso a funciones PRO
   - Fecha en que perder√° el acceso (fin del per√≠odo pagado)
   - Informaci√≥n sobre qu√© funciones perder√°
3. **Para confirmar, el usuario debe:**
   - Escribir **"CANCELAR"** en un campo de texto (medida de seguridad)
   - Hacer clic en **"Confirmar cancelaci√≥n"**

#### Paso 3: Procesamiento de Cancelaci√≥n
1. **El sistema:**
   - Cancela la suscripci√≥n en el sistema de pagos
   - Programa el cambio de plan para el final del per√≠odo pagado
   - Actualiza el estado en la base de datos
2. **El usuario mantiene acceso PRO** hasta:
   - El final del mes/per√≠odo que ya pag√≥
   - No se renueva autom√°ticamente

#### Paso 4: Cambio a Plan FREE
1. **Al finalizar el per√≠odo pagado:**
   - El plan cambia autom√°ticamente de PRO a FREE
   - Se actualiza en Supabase
   - El usuario pierde acceso a funciones PRO
2. **El usuario ve:**
   - Su plan cambia a "Plan FREE" en su perfil
   - Las funciones PRO se bloquean
   - Puede volver a actualizar a PRO cuando quiera
3. **Se env√≠a email de confirmaci√≥n** de la cancelaci√≥n

---

## üîê Seguridad y Autenticaci√≥n

### Medidas de Seguridad:
- ‚úÖ Contrase√±as con validaci√≥n (8-16 caracteres)
- ‚úÖ Confirmaci√≥n por email al registrarse
- ‚úÖ C√≥digos de verificaci√≥n para cambio de contrase√±a
- ‚úÖ C√≥digos expiran en 10 minutos
- ‚úÖ Reenv√≠o de c√≥digo disponible despu√©s de 1 minuto
- ‚úÖ Validaci√≥n de email en todos los procesos

### Flujos de Autenticaci√≥n:
1. **Registro**: Email de confirmaci√≥n requerido
2. **Login**: Email + contrase√±a
3. **Cambio de contrase√±a**: C√≥digo por email
4. **Recuperaci√≥n**: C√≥digo por email (sin autenticaci√≥n previa)

---

## üìä Resumen de Funcionalidades por Plan

| Funcionalidad | FREE | PRO | ADMIN |
|--------------|------|-----|-------|
| B√∫squeda de empresas | ‚úÖ Limitada | ‚úÖ Ilimitada | ‚úÖ Ilimitada |
| Ver emails | ‚ùå | ‚úÖ | ‚úÖ |
| Ver tel√©fonos | ‚ùå | ‚úÖ | ‚úÖ |
| Env√≠o de emails | ‚ùå | ‚úÖ | ‚úÖ |
| Env√≠o masivo | ‚ùå | ‚úÖ | ‚úÖ |
| Exportaci√≥n CSV | ‚úÖ Limitada | ‚úÖ Ilimitada | ‚úÖ Ilimitada |
| Templates personalizados | ‚ùå | ‚úÖ | ‚úÖ |
| Historial de b√∫squedas | ‚úÖ | ‚úÖ | ‚úÖ |
| Panel de administraci√≥n | ‚ùå | ‚ùå | ‚úÖ |
| Gesti√≥n de usuarios | ‚ùå | ‚ùå | ‚úÖ |
| C√≥digos promocionales | ‚ùå | ‚ùå | ‚úÖ |

---

## üöÄ Flujo T√≠pico de Uso

### Usuario FREE:
1. Se registra y confirma email
2. Inicia sesi√≥n
3. Busca empresas por rubro y ubicaci√≥n
4. Ve resultados b√°sicos
5. Exporta datos b√°sicos (si est√° dentro del l√≠mite)
6. Decide actualizar a PRO para m√°s funciones

### Usuario PRO:
1. Inicia sesi√≥n (o se actualiza desde FREE)
2. Busca empresas con filtros avanzados
3. Ve todos los datos de contacto
4. Selecciona empresas objetivo
5. Crea o selecciona template de email
6. Env√≠a emails individuales o masivos
7. Exporta resultados completos a CSV
8. Revisa historial de b√∫squedas y env√≠os

### Usuario ADMIN:
1. Inicia sesi√≥n
2. Accede al panel de administraci√≥n
3. Revisa estad√≠sticas del sistema
4. Gestiona usuarios (ver, editar, cambiar planes)
5. Crea o gestiona c√≥digos promocionales
6. Tambi√©n puede usar todas las funciones PRO

---

## üìù Notas Importantes

- **Confirmaci√≥n de Email**: Es obligatoria para activar la cuenta
- **C√≥digos de Verificaci√≥n**: Expiran en 10 minutos, se pueden reenviar despu√©s de 1 minuto
- **Contrase√±as**: M√≠nimo 8 caracteres, m√°ximo 16 caracteres
- **Cancelaci√≥n PRO**: El plan se cancela pero el usuario mantiene acceso hasta el final del per√≠odo pagado
- **Datos de Empresas**: Se obtienen de fuentes p√∫blicas y se enriquecen autom√°ticamente

---

## üéì Para el Profesor - Gu√≠a de Prueba R√°pida

### Prueba 1: Registro y Confirmaci√≥n
1. Crear cuenta nueva con email v√°lido
2. Revisar email y confirmar cuenta
3. Iniciar sesi√≥n

### Prueba 2: Recuperaci√≥n de Contrase√±a
1. Cerrar sesi√≥n
2. Hacer clic en "¬øOlvidaste tu contrase√±a?"
3. Ingresar email
4. Revisar c√≥digo en email
5. Verificar c√≥digo y cambiar contrase√±a

### Prueba 3: Usuario FREE
1. Buscar empresas por rubro
2. Ver resultados (notar que no se ven emails/tel√©fonos completos)
3. Intentar exportar (funciona pero limitado)

### Prueba 4: Upgrade a PRO
1. Ir a "Mi Perfil"
2. Hacer clic en "Actualizar a PRO"
3. Completar proceso (o simular)

### Prueba 5: Funciones PRO
1. Buscar empresas
2. Ver emails y tel√©fonos completos
3. Enviar email individual
4. Enviar emails masivos
5. Exportar a CSV

### Prueba 6: Panel Admin
1. Iniciar sesi√≥n como admin
2. Acceder al panel de administraci√≥n
3. Ver usuarios
4. Editar un usuario
5. Cambiar plan de un usuario
6. Ver c√≥digos promocionales

### Prueba 7: Cambio de Contrase√±a (Autenticado)
1. Ir a "Mi Perfil"
2. Hacer clic en "Cambiar contrase√±a"
3. Solicitar c√≥digo
4. Verificar c√≥digo
5. Cambiar contrase√±a

---

**Versi√≥n del Documento**: 1.0  
**√öltima Actualizaci√≥n**: 2024

